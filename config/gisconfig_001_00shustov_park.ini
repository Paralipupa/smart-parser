; accounts, pp, pp_changes
; Обязательные колонки:
; ЛС(0), 
; Задолженность на начало (1)
; Начислено (2)
; Оплачено  (4)
; Конечный остаток (5)

[check]
; Поиск ключевого значения по строке(ам) для определения совместимости
; входных данных и конфигурации
row=0<10
pattern=Отчет по поступлению денежных средств-зачет авансов

[main]
path_output=output
row_start=0
page_name=
page_index=0
max_columns=150
max_rows_heading=20

[headers_0]
name=period
row=2
column=0
pattern=(?<=с )\s*[0-9]{2}\.[0-9]{2}\.[0-9]{4}

[col_0]
name=ЛС
pattern=^ЛС ЕИРЦ
condition_begin_team=^[0-9-]{8}$
is_unique=true

[col_1] 
name=Задолженность на начало

[col_2]
name=Итого начислено

[col_3]
name=Всего начислено

[col_4] 
name=Оплачено
pattern=^Зачтено
is_unique=true

[col_5] 
name=Конечный остаток

[col_6] 
name=Пени

[col_7]
name=Квартира

[col_8] 
name=Площадь

[col_9] 
name=Кол-во проживающих

[col_10] 
name=ХВС

[col_11] 
name=ГВС

[col_12] 
name=Электроэнергия

[col_13] 
name=Услуги
pattern=^Услуга$

;---------------  Документы -------------------------
; --------- pp_changes -----------
[doc_0]
; Документ Начисления платежей
name=pp_charges
required_fields=calc_value

[pp_charges_0]
; ИНН, ОГРН или OrgID
name=org_ppa_guid
pattern=@
col_config=0
row_data=0
func=inn

[pp_charges_1]
; Внутренний идентификатор начисления
name=internal_id
pattern=@0
col_config=0
row_data=0
func=id

[pp_charges_2]
; Внутренний идентификатор платежного документа
name=pp_internal_id
pattern=@0
col_config=0
row_data=0
func=id

[pp_charges_3]
; Сумма начисления при однотарифном начислении (поля:Элект,ХВС,Услуги)
name=calc_value
col_config=13
pattern=^Водоотведение
offset_pattern=^\d{1,6}(?:[\.,]\d{1,2})?$
offset_col_config=4
offset_type=float

[pp_charges_3_0]
; Сумма начисления при однотарифном начислении (поля:Элект,ХВС,Услуги)
pattern=^Холодное в\/с$
offset_pattern=^\d{1,6}(?:[\.,]\d{1,2})?$
offset_col_config=4
offset_type=float

[pp_charges_3_1]
; Сумма начисления при однотарифном начислении (поля:Элект,ХВС,Услуги)
pattern=^Горячее(?:.)+\(носитель\)$
offset_pattern=^\d{1,6}(?:[\.,]\d{1,2})?$
offset_col_config=4
offset_type=float

[pp_charges_3_2]
; Сумма начисления при однотарифном начислении (поля:Элект,ХВС,Услуги)
pattern=^Горячее(?:.)+\(энергия\)$
offset_pattern=^\d{1,6}(?:[\.,]\d{1,2})?$
offset_col_config=4
offset_type=float

[pp_charges_3_3]
; Сумма начисления при однотарифном начислении (поля:Элект,ХВС,Услуги)
pattern=^Электроснабжение
offset_pattern=^\d{1,6}(?:[\.,]\d{1,2})?$
offset_col_config=4
offset_type=float

[pp_charges_3_4]
; Сумма начисления при однотарифном начислении (поля:Элект,ХВС,Услуги)
pattern=^Отопление
offset_pattern=^\d{1,6}(?:[\.,]\d{1,2})?$
offset_col_config=4
offset_type=float

[pp_charges_3_5]
; Сумма начисления при однотарифном начислении (поля:Элект,ХВС,Услуги)
pattern=.+
offset_pattern=^\d{1,6}(?:[\.,]\d{1,2})?$
offset_col_config=4
offset_type=float

[pp_charges_4]
; тариф при однотарифном начислении (поля: ГВС, ХВС)
name=tariff
pattern=
col_config=
row_data=0

[pp_charges_5]
; Идентификатор услуги (поля: ГВС,ХВС,Элект,Услуги)
; применена функция column_name, которая возвращает наименование группы или колонки
name=service_internal_id
pattern=^Водоотведение
col_config=13
row_data=
func=Водоотведение

[pp_charges_5_0]
pattern=^Холодное в\/с$
col_config=13
row_data=
func=ХВС

[pp_charges_5_1]
pattern=^Горячее(?:.)+\(носитель\)$
col_config=13
row_data=
func=ГВС носитель

[pp_charges_5_2]
pattern=^Горячее(?:.)+\(энергия\)$
col_config=13
row_data=
func=ГВС-энергия

[pp_charges_5_3]
pattern=^Электроснабжение
col_config=13
row_data=
func=Электроснабжение

[pp_charges_5_4]
pattern=^Отопление
col_config=13
row_data=
func=Отопление

[pp_charges_5_5]
pattern=.+
col_config=13
row_data=
func=Прочее


[pp_charges_6]
; кол-во услуги  при однотарифном начислении (поля: ГВС,ХВС,Элект)
name=rr
pattern=
col_config=
row_data=0

[pp_charges_7]
; перерасчет
name=recalculation
pattern=
col_config=
row_data=3
func=

[pp_charges_8]
; Начислено за расчетный период,с  учетом перерасчета
name=accounting_period_total
pattern=@3
col_config=0
offset_pattern=^\d{1,6}(?:\.\d{1,2})?$
offset_col_config=2

